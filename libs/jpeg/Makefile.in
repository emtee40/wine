EXTLIB    = libjpeg.a
EXTRADEFS = -DJPEG_LIB_VERSION=90 -I$(srcdir)/simd/nasm
i386_EXTRAASMFLAGS = -fwin32 -DWIN32 -D__i386__ -I$(srcdir)/simd/i386
x86_64_EXTRAASMFLAGS = -fwin64 -DWIN64 -D__x86_64__ -DPIC -I$(srcdir)/simd/x86_64

C_SRCS = \
	jaricom.c \
	jcapimin.c \
	jcapistd.c \
	jcarith.c \
	jccoefct.c \
	jccolor.c \
	jcdctmgr.c \
	jcdiffct.c \
	jchuff.c \
	jcicc.c \
	jcinit.c \
	jclhuff.c \
	jclossls.c \
	jcmainct.c \
	jcmarker.c \
	jcmaster.c \
	jcomapi.c \
	jcparam.c \
	jcphuff.c \
	jcprepct.c \
	jcsample.c \
	jctrans.c \
	jdapimin.c \
	jdapistd.c \
	jdarith.c \
	jdatadst.c \
	jdatasrc.c \
	jdcoefct.c \
	jdcolor.c \
	jddctmgr.c \
	jddiffct.c \
	jdhuff.c \
	jdicc.c \
	jdinput.c \
	jdlhuff.c \
	jdlossls.c \
	jdmainct.c \
	jdmarker.c \
	jdmaster.c \
	jdmerge.c \
	jdphuff.c \
	jdpostct.c \
	jdsample.c \
	jdtrans.c \
	jerror.c \
	jfdctflt.c \
	jfdctfst.c \
	jfdctint.c \
	jidctflt.c \
	jidctfst.c \
	jidctint.c \
	jidctred.c \
	jmemmgr.c \
	jmemnobs.c \
	jpeg12/jcapistd.c \
	jpeg12/jccoefct.c \
	jpeg12/jccolor.c \
	jpeg12/jcdctmgr.c \
	jpeg12/jcdiffct.c \
	jpeg12/jclossls.c \
	jpeg12/jcmainct.c \
	jpeg12/jcprepct.c \
	jpeg12/jcsample.c \
	jpeg12/jdapistd.c \
	jpeg12/jdcoefct.c \
	jpeg12/jdcolor.c \
	jpeg12/jddctmgr.c \
	jpeg12/jddiffct.c \
	jpeg12/jdlossls.c \
	jpeg12/jdmainct.c \
	jpeg12/jdmerge.c \
	jpeg12/jdpostct.c \
	jpeg12/jdsample.c \
	jpeg12/jfdctfst.c \
	jpeg12/jfdctint.c \
	jpeg12/jidctflt.c \
	jpeg12/jidctfst.c \
	jpeg12/jidctint.c \
	jpeg12/jidctred.c \
	jpeg12/jquant1.c \
	jpeg12/jquant2.c \
	jpeg12/jutils.c \
	jpeg16/jcapistd.c \
	jpeg16/jccolor.c \
	jpeg16/jcdiffct.c \
	jpeg16/jclossls.c \
	jpeg16/jcmainct.c \
	jpeg16/jcprepct.c \
	jpeg16/jcsample.c \
	jpeg16/jdapistd.c \
	jpeg16/jdcolor.c \
	jpeg16/jddiffct.c \
	jpeg16/jdlossls.c \
	jpeg16/jdmainct.c \
	jpeg16/jdpostct.c \
	jpeg16/jdsample.c \
	jpeg16/jquant1.c \
	jpeg16/jquant2.c \
	jpeg16/jutils.c \
	jquant1.c \
	jquant2.c \
	jutils.c

i386_C_SRCS = simd/i386/jsimd.c
x86_64_C_SRCS = simd/x86_64/jsimd.c

i386_ASM_SRCS = \
	simd/i386/jccolor-avx2.asm \
	simd/i386/jccolor-mmx.asm \
	simd/i386/jccolor-sse2.asm \
	simd/i386/jcgray-avx2.asm \
	simd/i386/jcgray-mmx.asm \
	simd/i386/jcgray-sse2.asm \
	simd/i386/jchuff-sse2.asm \
	simd/i386/jcphuff-sse2.asm \
	simd/i386/jcsample-avx2.asm \
	simd/i386/jcsample-mmx.asm \
	simd/i386/jcsample-sse2.asm \
	simd/i386/jdcolor-avx2.asm \
	simd/i386/jdcolor-mmx.asm \
	simd/i386/jdcolor-sse2.asm \
	simd/i386/jdmerge-avx2.asm \
	simd/i386/jdmerge-mmx.asm \
	simd/i386/jdmerge-sse2.asm \
	simd/i386/jdsample-avx2.asm \
	simd/i386/jdsample-mmx.asm \
	simd/i386/jdsample-sse2.asm \
	simd/i386/jfdctflt-3dn.asm \
	simd/i386/jfdctflt-sse.asm \
	simd/i386/jfdctfst-mmx.asm \
	simd/i386/jfdctfst-sse2.asm \
	simd/i386/jfdctint-avx2.asm \
	simd/i386/jfdctint-mmx.asm \
	simd/i386/jfdctint-sse2.asm \
	simd/i386/jidctflt-3dn.asm \
	simd/i386/jidctflt-sse2.asm \
	simd/i386/jidctflt-sse.asm \
	simd/i386/jidctfst-mmx.asm \
	simd/i386/jidctfst-sse2.asm \
	simd/i386/jidctint-avx2.asm \
	simd/i386/jidctint-mmx.asm \
	simd/i386/jidctint-sse2.asm \
	simd/i386/jidctred-mmx.asm \
	simd/i386/jidctred-sse2.asm \
	simd/i386/jquant-3dn.asm \
	simd/i386/jquantf-sse2.asm \
	simd/i386/jquanti-avx2.asm \
	simd/i386/jquanti-sse2.asm \
	simd/i386/jquant-mmx.asm \
	simd/i386/jquant-sse.asm \
	simd/i386/jsimdcpu.asm

x86_64_ASM_SRCS = \
	simd/x86_64/jccolor-avx2.asm \
	simd/x86_64/jccolor-sse2.asm \
	simd/x86_64/jcgray-avx2.asm \
	simd/x86_64/jcgray-sse2.asm \
	simd/x86_64/jchuff-sse2.asm \
	simd/x86_64/jcphuff-sse2.asm \
	simd/x86_64/jcsample-avx2.asm \
	simd/x86_64/jcsample-sse2.asm \
	simd/x86_64/jdcolor-avx2.asm \
	simd/x86_64/jdcolor-sse2.asm \
	simd/x86_64/jdmerge-avx2.asm \
	simd/x86_64/jdmerge-sse2.asm \
	simd/x86_64/jdsample-avx2.asm \
	simd/x86_64/jdsample-sse2.asm \
	simd/x86_64/jfdctflt-sse.asm \
	simd/x86_64/jfdctfst-sse2.asm \
	simd/x86_64/jfdctint-avx2.asm \
	simd/x86_64/jfdctint-sse2.asm \
	simd/x86_64/jidctflt-sse2.asm \
	simd/x86_64/jidctfst-sse2.asm \
	simd/x86_64/jidctint-avx2.asm \
	simd/x86_64/jidctint-sse2.asm \
	simd/x86_64/jidctred-sse2.asm \
	simd/x86_64/jquantf-sse2.asm \
	simd/x86_64/jquanti-avx2.asm \
	simd/x86_64/jquanti-sse2.asm \
	simd/x86_64/jsimdcpu.asm
